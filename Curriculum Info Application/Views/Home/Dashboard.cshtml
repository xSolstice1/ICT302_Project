@model List<Transaction>

<div class="container mt-5">
    <div class="row">
        <!-- Import Duration Matrix -->
        <div class="col-md-4">
            <div class="chart-container">
                <h3>Import Duration Matrix</h3>
                <div id="import-duration-chart"></div>
            </div>
        </div>

        <!-- Import Rate by File Type Pie Chart -->
        <div class="col-md-4">
            <div class="chart-container">
                <h3>Import Rate by File Type</h3>
                <div id="import-rate-chart"></div>
            </div>
        </div>
    </div>
</div>
<div class="container mt-5">
    <!-- Transaction History -->
    <div class="col-md-12">
        <h3>Transaction History</h3>
        <table class="table table-striped" style="width:100% !important;">
            <thead>
                <tr>
                    <th>Date/Time</th>
                    <th>User</th>
                    <th>Import Start Time</th>
                    <th>Import End Time</th>
                    <th>Import Duration</th>
                    <th>Filename 1</th>
                    <th>File Size 1</th>
                    <th>Filename 2</th>
                    <th>File Size 2</th>
                    <th>Merged File Size</th>
                    <th>Join Key 1</th>
                    <th>Join Key 2</th>
                    
                </tr>
            </thead>
            <tbody>
                @foreach (var transaction in Model)
                {
                    <tr>
                        <td>@transaction.transaction_datetime</td>
                        <td>@transaction.user</td>
                        <td>@transaction.import_starttime</td>
                        <td>@transaction.import_endtime</td>
                        <td>@transaction.import_duration</td>
                        <td>@transaction.filename1</td>
                        <td>@transaction.filesize1</td>
                        <td>@transaction.filename2</td>
                        <td>@transaction.filesize2</td>
                        <td>@transaction.merged_filesize</td>
                        <td>@transaction.joinkey1</td>
                        <td>@transaction.joinkey2</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- Script for generating dummy charts -->
<script>
    // Dummy import duration matrix chart
    const importDurationChart = document.getElementById('import-duration-chart');
    Plotly.newPlot(importDurationChart, [{
        x: [1, 2, 3, 4],
        y: [10, 15, 13, 17],
        type: 'bar'
    }]);

    // Dummy import rate by file type pie chart
    const importRateChart = document.getElementById('import-rate-chart');
    Plotly.newPlot(importRateChart, [{
        labels: ['CSV', 'Excel'],
        values: [41, 59],
        type: 'pie'
    }]);
</script>
